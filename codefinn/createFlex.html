<!DOCTYPE html>
<html>
<head>
    <title>App FINN</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" />
    <link rel="stylesheet" href="https://bit.ly/3CZa0Sz" type="text/css" charset="utf-8" />
    <style type="text/css">
    .transparent-text {
        opacity: 0; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ */
        color: white; /* ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß */
    }
    /* ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏Ç‡∏≠‡∏á body ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° */
    body {
        font-family: "line_seed_sans_th";
        margin: 0;
        overflow: hidden;
        background-color: white;
        position: relative;
    }
    body::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: -1;
/*         background: url('https://obs.line-scdn.net/hKKMqdg-YCGVFZBtrEjIPHAwWQl1fOAE6HD4PC1VcHlBZbVFnRWldBFcNGlRaPARhTmo/mp4') no-repeat center center fixed; */
        background-size: cover;
        background-attachment: fixed;
    }
</style>

  
  
    <script>
        function runApp() {
            liff.init({ liffId: "2002109149-EG8Z5n8j" }, () => {
                if (liff.isLoggedIn()) {
                    liff.getProfile().then(profile => {
                        document.getElementById("user-name").textContent = profile.displayName;
                    });
                  
                  // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô searchflex
                    searchflex();


                } else {
                    liff.login();
                }
            }, err => console.error(err));
        }
      
function searchflex(){
  // ‡∏™‡∏£‡πâ‡∏≤‡∏á URI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ä‡∏£‡πå Flex
  
  //var x = encodeURI("https://line.me/R/oaMessage/@hqg1050l/?‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ : "+status+"\n.\n‡∏ä‡∏∑‡πà‡∏≠ : "+name+"\n‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ : "+phone+"\n‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà : "+payday+"\n‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô : "+money+"\n‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏•‡πâ‡∏ß : "+paid+"\n.\n‡πÅ‡∏ä‡∏£‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì "+liff.getDecodedIDToken().name)
  //var y = encodeURI("https://line.me/R/share?text=‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ : "+status+"\n.\n‡∏ä‡∏∑‡πà‡∏≠ : "+name+"\n‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ : "+phone+"\n‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà : "+payday+"\n‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô : "+money+"\n‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏•‡πâ‡∏ß : "+paid+"\n.\n‡πÅ‡∏ä‡∏£‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì "+liff.getDecodedIDToken().name)
  
  // ‡∏™‡∏£‡πâ‡∏≤‡∏á Flex Message
  var flexMessage = {
    "type": "flex",
    "altText": "‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏™‡∏≠‡∏ô",
    "contents": {
  "type": "bubble",
  "body": {
    "type": "box",
    "layout": "vertical",
    "contents": [
      {
        "type": "text",
        "text": "‚ú® ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏© ‚ú®",
        "weight": "bold",
        "size": "xxl",
        "margin": "md",
        "align": "center"
      },
      {
        "type": "text",
        "text": "- codeFINN -",
        "size": "xs",
        "color": "#aaaaaa",
        "wrap": true,
        "align": "center"
      },
      {
        "type": "separator",
        "margin": "lg"
      },
      {
        "type": "box",
        "layout": "vertical",
        "margin": "xl",
        "spacing": "sm",
        "contents": [
          {
            "type": "box",
            "layout": "vertical",
            "contents": [
              {
                "type": "text",
                "text": "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏© üåüVIPüåü",
                "weight": "bold",
                "decoration": "underline",
                "color": "#0ead23"
              },
              {
                "type": "text",
                "text": "[1] ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡∏Å‡πà‡∏≠‡∏ô",
                "size": "sm",
                "color": "#555555",
                "flex": 0
              },
              {
                "type": "text",
                "text": "‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",
                "size": "sm",
                "color": "#555555",
                "flex": 0
              }
            ]
          },
          {
            "type": "box",
            "layout": "vertical",
            "contents": [
              {
                "type": "text",
                "text": "[2] ‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤ 50% ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô",
                "size": "sm",
                "color": "#555555",
                "flex": 0
              }
            ]
          },
          {
            "type": "box",
            "layout": "vertical",
            "contents": [
              {
                "type": "text",
                "text": "[3] ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ",
                "size": "sm",
                "color": "#555555",
                "flex": 0
              },
              {
                "type": "text",
                "text": "‡πÅ‡∏•‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡πÜ",
                "size": "sm",
                "color": "#555555",
                "flex": 0
              }
            ]
          },
          {
            "type": "separator",
            "margin": "xl"
          },
          {
            "type": "box",
            "layout": "horizontal",
            "margin": "xl",
            "contents": [
              {
                "type": "text",
                "text": "‡∏™‡∏°‡∏±‡∏Ñ‡∏£ üåüVIPüåü",
                "weight": "bold",
                "decoration": "underline",
                "color": "#0ead23"
              }
            ]
          },
          {
            "type": "box",
            "layout": "horizontal",
            "contents": [
              {
                "type": "text",
                "text": "[1] ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á VIP ‡∏ø2,000",
                "size": "sm",
                "color": "#555555"
              }
            ]
          },
          {
            "type": "box",
            "layout": "horizontal",
            "contents": [
              {
                "type": "text",
                "text": "[2] ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏´‡πâ‡∏≠‡∏á VIP ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏",
                "size": "sm",
                "color": "#555555"
              }
            ]
          }
        ]
      },
      {
        "type": "separator",
        "margin": "xl"
      },
      {
        "type": "box",
        "layout": "horizontal",
        "margin": "xxl",
        "contents": [
          {
            "type": "button",
            "action": {
              "type": "uri",
              "label": "‡∏™‡∏°‡∏±‡∏Ñ‡∏£ VIP",
              "uri": "https://liff.line.me/2002109149-9R7Jlz7b"
            },
            "height": "sm",
            "style": "primary"
          },
          {
            "type": "separator",
            "color": "#ffffff",
            "margin": "lg"
          },
          {
            "type": "button",
            "action": {
              "type": "uri",
              "label": "‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
              "uri": "https://liff.line.me/2002109149-EG8Z5n8j"
            },
            "height": "sm",
            "style": "primary"
          }
        ]
      }
    ]
  },
  "styles": {
    "footer": {
      "separator": true
    }
  }
}
      }
   // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ shareTargetPicker ‡∏û‡∏£‡πâ‡∏≠‡∏° Flex Message
  liff.shareTargetPicker([flexMessage])
    .then(function (res) {
      if (res) {
        Swal.fire({
          position: 'top-end',
          icon: 'success',
          title: '‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏ä‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢',
          showConfirmButton: false,
          timer: 1500
        });
        liff.closeWindow();
      } else {
        console.log("TargetPicker was closed!");
        liff.closeWindow();
      }
    })
    .catch(function (error) {
      console.log("something wrong happen", error);
    liff.closeWindow();
    });
}

      
//       // ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å URI ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Flex ‡∏ñ‡∏π‡∏Å‡πÅ‡∏ä‡∏£‡πå
// if (window.location.href.includes('line://app')) {
//   const urlParams = new URLSearchParams(window.location.search);
//   const name = urlParams.get('name');
//   const address = urlParams.get('address');
//   const phone = urlParams.get('phone');
//   const facebook = urlParams.get('facebook');
//   const lineId = urlParams.get('lineId');
//   const status = urlParams.get('status');
//   const payday = urlParams.get('payday');
//   const paydate = urlParams.get('paydate');
//   const money = urlParams.get('money');
//   const instance = urlParams.get('instance');
//   const paid = urlParams.get('paid');
//   const paidM = urlParams.get('paidM');
//   const paidPM = urlParams.get('paidPM');
//   // ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏à‡∏≤‡∏Å URL
//   // ...
//   searchflex(name, address, phone, facebook, lineId, status, payday, paydate, money, instance, paid, paidM, paidPM); // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô searchflex ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ
// }
    </script>
</head>
<body onload="runApp()">
  
<p class="transparent-text" style="margin-bottom: 320px;">.</p>
   
    <!-- ... ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∑‡πà‡∏ô‡πÜ -->
  
</body>
</html>
