<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>iCloudPawn</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style type="text/css">
      body {
        font-family: "line_seed_sans_th";
      }

      :root {
        --primary-one: #24292e;
        --primary-two: #181c20;
        --primary-three: #f1f1f1;
        --secondary: #6c757d;
        --accent: #49f868;
        --text: #c9c9c9;
        --white: #ffffff;
        --black: #000000;
      }

      * {
        transition: all 0.3s ease !important;
      }

      body::-webkit-scrollbar {
        width: 0 !important;
      }

      .main_wrapper {
        width: 100vw;
        height: 100vh;
        background: var(--primary-two);
        overflow: hidden;
        padding: 25px;
      }

      .wrapper {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;

        box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        background-color: rgba(255, 255, 255, 0.08);
      }

      header {
        background: var(--primary-two);
      }

      .nav-links .nav-link {
        color: var(--white);
      }

      .home,
      .news,
      .gform,
      .vdo {
        flex: 1;
        max-height: calc(100vh - 155px);
        overflow-y: auto;
      }

      .home::-webkit-scrollbar,
      .news::-webkit-scrollbar,
      .gform::-webkit-scrollbar,
      .vdo::-webkit-scrollbar {
        width: 5px;
      }

      .home::-webkit-scrollbar-track,
      .news::-webkit-scrollbar-track,
      .gform::-webkit-scrollbar-track,
      .vdo::-webkit-scrollbar-track {
        background: transparent;
      }

      .home::-webkit-scrollbar-thumb,
      .news::-webkit-scrollbar-thumb,
      .gform::-webkit-scrollbar-thumb,
      .vdo::-webkit-scrollbar-thumb {
        background: var(--primary-two);
        border-radius: 5px;
      }

      .main > div {
        display: none;
        transition: display 1s ease-in-out !important;
      }

      .active-link {
        background-color: var(--primary-one);
        color: var(--accent) !important;
      }

      .p-text {
        color: var(--text);
        font-size: 13px;
      }

      .socials-svg {
        width: 25px;
        height: 25px;
        fill: var(--text);
      }

      .socials-svg:hover {
        fill: var(--accent);
      }

      .cv-btn:hover {
        background-color: var(--accent) !important;
      }

      /* Media Queries */
      @media screen and (max-width: 576px) {
        .main_wrapper {
          padding: 12px;
        }
      }
      /* ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ class .home ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô-‡∏•‡∏á‡πÑ‡∏î‡πâ */
      .news {
        width: 100%;
        padding: 0;
        margin: 0;
        overflow-y: auto; /* ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô-‡∏•‡∏á */
      }

      /* ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á .home */
      .news img.full-screen {
        width: 100%;
        height: auto; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° */
        object-fit: contain; /* ‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡πÄ‡∏ï‡πá‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î‡∏à‡∏£‡∏¥‡∏á */
        border-radius: 12px; /* ‡∏•‡∏ö‡∏Ç‡∏≠‡∏ö‡∏°‡∏ô */
      }

      /* ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ class .home ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô-‡∏•‡∏á‡πÑ‡∏î‡πâ */
      .vdo {
        width: 100%;
        padding: 0;
        margin: 0;
        overflow-y: auto; /* ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô-‡∏•‡∏á */
      }

      /* ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á .home */
      .vdo img.full-screen {
        width: 100%;
        height: auto; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° */
        object-fit: contain; /* ‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡πÄ‡∏ï‡πá‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î‡∏à‡∏£‡∏¥‡∏á */
        border-radius: 12px; /* ‡∏•‡∏ö‡∏Ç‡∏≠‡∏ö‡∏°‡∏ô */
      }
    </style>
  </head>

  <body>
    <div class="main_wrapper">
      <div class="wrapper">
        <section class="m-4 all-content-wrapper">
          <!-- Header Section -->
          <header class="w-full md:w-8/12 mx-auto text-center rounded-full p-2">
            <div class="nav-links flex items-center justify-around">
              <a
                href="#"
                class="nav-link py-3 px-2 md:px-0 text-sm md:text-base font-medium rounded-full w-full"
                >‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß</a
              >
              <a
                href="#"
                class="nav-link py-3 px-2 md:px-0 text-sm md:text-base font-medium rounded-full w-full"
                >‡πÄ‡∏£‡∏ó‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á</a
              >
              <a
                href="#"
                class="nav-link py-3 px-2 md:px-0 text-sm md:text-base font-medium rounded-full w-full"
                >‡∏Ñ‡∏•‡∏¥‡∏õ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</a
              >
              <a
                href="#"
                class="nav-link py-3 px-2 md:px-0 text-sm md:text-base font-medium rounded-full w-full"
                >‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏≠‡∏î‡∏µ</a
              >
            </div>
          </header>

          <main class="main">
            <div class="home px-2 md:px-8 py-6">
              <div class="grid grid-cols-1 gap-5">
                <!DOCTYPE html>
                <html lang="en">
                  <head>
                    <meta charset="UTF-8" />
                    <meta
                      name="viewport"
                      content="width=device-width, initial-scale=1.0"
                    />
                    <title>Queue : iCloudPawn</title>

                    <!-- jQuery -->
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

                    <!-- SweetAlert2 -->
                    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

                    <!-- LIFF SDK -->
                    <script src="https://static.line-scdn.net/liff/edge/versions/2.7.1/sdk.js"></script>

                    <!-- Tailwind CSS for styling (optional) -->
                    <link
                      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.1.2/dist/tailwind.min.css"
                      rel="stylesheet"
                    />

                    <style>
  .status-pending {
    background-color: #48fa92; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏°‡∏¥‡πâ‡∏ô */
    width: 80px;
    text-align: center; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    padding: 2px 8px;
    border-radius: 12px;
    animation: blinker 1.5s infinite;
  }

  .status-transfer {
    background-color: #07daed; /* ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô */
    width: 80px;
    text-align: center; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    padding: 2px 8px;
    border-radius: 12px;
  }

  .status-done {
    background-color: #28a745; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß */
    width: 80px;
    text-align: center; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    padding: 2px 8px;
    border-radius: 12px;
  }

  .status-editing {
    background-color: #fa675c; /* ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏≠‡πà‡∏≠‡∏ô */
    width: 80px;
    text-align: center; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    padding: 2px 8px;
    border-radius: 12px;
    animation: blinker 1.5s infinite;
  }

  .status-skip {
    background-color: #c07dfa; /* ‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á‡∏≠‡πà‡∏≠‡∏ô */
    width: 80px;
    text-align: center; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    padding: 2px 8px;
    border-radius: 12px;
  }

  .status-available {
    background-color: #e2e8f0; /* ‡∏™‡∏µ‡πÄ‡∏ó‡∏≤ */
    width: 80px;
    text-align: center; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    padding: 2px 8px;
    border-radius: 12px;
  }

  .status-canceled {
    background-color: #ff4d4d; /* ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡πÄ‡∏Ç‡πâ‡∏° */
    width: 80px;
    text-align: center; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    padding: 2px 8px;
    border-radius: 12px;
  }

  @keyframes blinker {
    50% {
      opacity: 0.5;
    }
  }
</style>

                  </head>

                  <body>
                    <div
                      class="container mx-auto mt-10 p-4 bg-white rounded-lg shadow"
                    >
                      <h1 class="text-center text-2xl font-bold mb-6">
                        üí∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ß‡∏±‡∏ôüí∞
                      </h1>
                      <h1 class="text-center text-2xl font-bold mb-6">
                        ‚ÄºÔ∏è‡∏Ç‡πâ‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≠‡∏á‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà‚ÄºÔ∏è
                      </h1>
                      <div class="grid grid-cols-4 gap-4" id="queueContainer">
                        <!-- ‡∏Ñ‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏≠‡∏á‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
                      </div>
                    </div>

                    <script>
                      liff
                        .init({
                          liffId: "1661277248-WzqvqMXL",
                        })
                        .catch((err) => {
                          console.error("LIFF Initialization failed: ", err);
                        });

                      function isBookingAllowed() {
                        const now = new Date();
                        const currentHour = now.getHours();
                        const currentMinute = now.getMinutes();
                        const currentDate = now.getDate(); // ‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (1-31)

                        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
                        if (currentDate < 6 || currentDate > 25) return false;

                        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
                        if (currentHour === 8 && currentMinute < 30)
                          return false; // ‡∏Å‡πà‡∏≠‡∏ô 8:30‡∏ô.
                        if (currentHour < 8) return false; // ‡∏Å‡πà‡∏≠‡∏ô 8:00‡∏ô.
                        if (currentHour > 24) return false; // ‡∏´‡∏•‡∏±‡∏á 17:00‡∏ô.

                        return true;
                      }

                      liff.ready.then(async () => {
                        if (!liff.isLoggedIn()) {
                          liff.login();
                          return;
                        }

                        const idToken = liff.getDecodedIDToken();
                        const userId = idToken.sub;
                        const displayName = idToken.name;
                        const pictureUrl = idToken.picture;
                        const email = idToken.email;

                        $("form").append(
                          `<input type="hidden" name="userId" value="${userId}">`
                        );
                        $("form").append(
                          `<input type="hidden" name="displayName" value="${displayName}">`
                        );
                        $("form").append(
                          `<input type="hidden" name="pictureUrl" value="${pictureUrl}">`
                        );
                        $("form").append(
                          `<input type="hidden" name="email" value="${email}">`
                        );

                        let bookedData = {};
                        await $.get(
                          "https://script.google.com/macros/s/AKfycbz3WHgaa6THghVfMalnaQiDkAD4O4JGEXLk8941fQNQApuXy_zn5qopas7fKYZGsZUX/exec",
                          function (data) {
                            bookedData = data;
                          }
                        );

                        const queueContainer =
                          document.getElementById("queueContainer");
                        for (let i = 1; i <= 48; i++) {
                          let formattedNumber = String(i);

                          let queueWrapper = document.createElement("div");
                          queueWrapper.className =
                            "flex flex-col items-center mb-4";

                          let queueElement = document.createElement("div");
                          queueElement.className =
                            "relative flex justify-center items-center bg-blue-500 text-white w-20 h-20 rounded-full cursor-pointer";
                          queueWrapper.appendChild(queueElement);

                          let statusElement = document.createElement("div");
                          statusElement.className = "text-sm mt-2 text-black";
                          queueWrapper.appendChild(statusElement);

                          if (
                            bookedData[formattedNumber] &&
                            bookedData[formattedNumber].userId
                          ) {
                            queueElement.innerHTML = `<img src="${bookedData[formattedNumber].pictureUrl}" class="queue-image w-20 h-20 rounded-full" alt="User Profile Picture"/>`;

                            const statusFromSheet =
                              bookedData[formattedNumber].G; // ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ Assumption ‡∏ß‡πà‡∏≤‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå G ‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤ "G"

                            switch (statusFromSheet) {
                              case "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£":
                                statusElement.textContent = "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å...";
                                statusElement.classList.add("status-pending");
                                break;
                              case "‡∏£‡∏≠‡πÇ‡∏≠‡∏ô‡∏£‡∏≠‡∏ö 1":
                                statusElement.textContent = "‡∏£‡∏≠‡∏ö‡πÇ‡∏≠‡∏ô 1";
                                statusElement.classList.add("status-transfer");
                                break;
                              case "‡∏£‡∏≠‡πÇ‡∏≠‡∏ô‡∏£‡∏≠‡∏ö 2":
                                statusElement.textContent = "‡∏£‡∏≠‡∏ö‡πÇ‡∏≠‡∏ô 2";
                                statusElement.classList.add("status-transfer");
                                break;
                              case "‡∏£‡∏≠‡πÇ‡∏≠‡∏ô‡∏£‡∏≠‡∏ö 3":
                                statusElement.textContent = "‡∏£‡∏≠‡∏ö‡πÇ‡∏≠‡∏ô 3";
                                statusElement.classList.add("status-transfer");
                                break;
                              case "‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏™‡∏£‡πá‡∏à":
                                statusElement.textContent = "‡πÇ‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß";
                                statusElement.classList.add("status-done");
                                break;
                              case "‡∏Ç‡πâ‡∏≤‡∏°‡∏Ñ‡∏¥‡∏ß":
                                statusElement.textContent = "‡∏Ç‡πâ‡∏≤‡∏°‡∏Ñ‡∏¥‡∏ß";
                                statusElement.classList.add("status-skip");
                                break;
                              case "‡∏£‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•":
                                statusElement.textContent = "‡∏£‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç...";
                                statusElement.classList.add("status-editing");
                                break;
                              case "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":
                                statusElement.textContent = "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å";
                                statusElement.classList.add("status-canceled");
                                break;
                              default:
                                statusElement.textContent = "‡∏£‡∏≠‡∏Ñ‡∏¥‡∏ß";
                                statusElement.classList.add("status-available");
                                break;
                            }
                          } else {
                            queueElement.innerHTML = `<span class="queue-number text-2xl">${formattedNumber}</span><img class="queue-image w-20 h-20 rounded-full hidden" alt="User Profile Picture"/>`;
                            statusElement.textContent = "‡∏ß‡πà‡∏≤‡∏á";
                            statusElement.classList.add("status-available");
                          }

                          queueElement.dataset.queue = formattedNumber;
                          queueElement.addEventListener(
                            "click",
                            async function () {
                              if (!isBookingAllowed()) {
                                Swal.fire(
                                  "‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô",
                                  "‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 6-25 ‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 08:30‡∏ô. - 17:00‡∏ô.",
                                  "warning"
                                );
                                return;
                              }
                              let numberElement =
                                this.querySelector(".queue-number");
                              let imageElement =
                                this.querySelector(".queue-image");

                              if (
                                imageElement.src &&
                                !imageElement.classList.contains("hidden")
                              ) {
                                if (
                                  bookedData[formattedNumber] &&
                                  bookedData[formattedNumber].userId === userId
                                ) {
                                  // ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
                                  const cancelBookingData = {
    action: "cancel",
    queueNumber: this.dataset.queue,
    userId: userId,
    displayName: displayName,
    pictureUrl: pictureUrl,
    email: email,
    G: "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å", // ‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó
};


                                  $.post(
                                    "https://script.google.com/macros/s/AKfycbz3WHgaa6THghVfMalnaQiDkAD4O4JGEXLk8941fQNQApuXy_zn5qopas7fKYZGsZUX/exec",
                                    cancelBookingData
                                  );

                                  Swal.fire(
                                    "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á",
                                    "‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß",
                                    "info"
                                  ).then(() => {
                                    liff.closeWindow();
                                  });

                                  imageElement.classList.add("hidden");
                                } else {
                                  Swal.fire(
                                    "‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô",
                                    "‡∏Ñ‡∏¥‡∏ß‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏à‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß",
                                    "warning"
                                  );
                                }
                              } else if (
                                userAlreadyBooked(userId, bookedData)
                              ) {
                                Swal.fire(
                                  "‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô",
                                  "‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ",
                                  "warning"
                                );
                                return;
                              } else {
                                numberElement.classList.add("hidden");
                                imageElement.src = pictureUrl;
                                imageElement.classList.remove("hidden");

                                const bookingData = {
                                  action: "book",
                                  queueNumber: this.dataset.queue,
                                  userId: userId,
                                  displayName: displayName,
                                  pictureUrl: pictureUrl,
                                };

                                $.post(
                                  "https://script.google.com/macros/s/AKfycbz3WHgaa6THghVfMalnaQiDkAD4O4JGEXLk8941fQNQApuXy_zn5qopas7fKYZGsZUX/exec",
                                  bookingData
                                );

                                Swal.fire(
                                  "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",
                                  "‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß",
                                  "success"
                                ).then(() => {
                                  liff.closeWindow();
                                });
                              }
                            }
                          );

                          queueContainer.appendChild(queueWrapper);
                        }
                      });

                      function userAlreadyBooked(userId, bookedData) {
                        for (let queue in bookedData) {
                          if (bookedData[queue].userId === userId) {
                            return true;
                          }
                        }
                        return false;
                      }

                      function sendMsgLiff(msgTemplate) {
                        if (liff.isInClient()) {
                          liff
                            .sendMessages([msgTemplate])
                            .then(() => {
                              liff.closeWindow();
                            })
                            .catch((err) => {
                              //             Swal.fire('‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°', 'error');
                            });
                        } else {
                          console.warn(
                            "This function is for sending messages from within the LINE app."
                          );
                        }
                      }
                    </script>
                  </body>
                </html>
              </div>
            </div>

            <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤ 2 -->
            <div class="news px-2 md:px-8 py-6">
              <div class="flex flex-col gap-1">
                <img
                  class="full-screen"
                  src="https://lh3.googleusercontent.com/d/1eEWAmxGcnW1GMDbEl8fPVOfpGweVqNva?key=123"
                  alt="Profile Image"
                />
              </div>
            </div>
            <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤ 3 -->
            <div
              class="gform px-4 md:px-8 py-6 bg-black text-white rounded-lg mt-4"
            >
              <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏° mt-4 ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
              <div class="flex flex-col gap-4">
                <h1 class="text-2xl sm:text-4xl md:text-5xl font-semibold">
                  ‡∏≠‡∏±‡∏î‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
                </h1>

                <p class="text-lg">
                  ‡∏≠‡∏±‡∏î‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏≠‡πÇ‡∏ü‡∏ô‡πÇ‡∏î‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≤‡∏á‡πÜ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ
                </p>

                <ul class="list-disc list-inside text-lg pl-5">
                  <li>‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏≠‡∏ö‡πÜ‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏á (‡πÄ‡∏≠‡∏≤‡πÄ‡∏Ñ‡∏™‡∏≠‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡πà‡∏≤‡∏¢)</li>
                  <li>
                    ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏•‡∏Ç IMEI : ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤&gt;‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ&gt;‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö
                    ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î
                  </li>
                  <li>‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏±‡∏ï‡∏£ ‡∏õ‡∏õ‡∏ä. ‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡∏£‡∏µ‡πÑ‡∏ü‡πÅ‡∏ô‡∏ô‡∏ã‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ñ‡πà‡∏≤‡∏¢‡∏Ñ‡∏•‡∏¥‡∏õ</li>
                </ul>
              </div>
            </div>

            <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤ 4 -->
            <div class="vdo px-2 md:px-8 py-6">
              <div class="flex flex-col gap-1">
                <img
                  class="full-screen"
                  src="https://lh3.googleusercontent.com/d/1McMIlDOwOAA3bJHjFPNv905QtZ7L1Kd-?key=123"
                  alt="Profile Image"
                />
              </div>
<div
              class="gform px-4 md:px-8 py-6 bg-black text-white rounded-lg mt-4"
            >
              <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏° mt-4 ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
              <div class="flex flex-col gap-4">
                <h1 class="text-2xl sm:text-4xl md:text-5xl font-semibold">
                  ‡∏£‡∏≠‡∏ö‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô
                </h1>

                <p class="text-lg">
                  ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 3 ‡πÄ‡∏ß‡∏•‡∏≤ ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ
                </p>

                <ul class="list-disc list-inside text-lg pl-5">
                  <li>‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 1 : 12.30‡∏ô.-13.30‡∏ô.</li>
                  <li>‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 2 : 17.30‡∏ô.-18.30‡∏ô.</li>
                  <li>‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 3 : 20.30‡∏ô.-21.30‡∏ô.</li>
                </ul>
              </div>
            </div>
              
            </div>
          </main>
        </section>
      </div>
    </div>

    <script
      src="https://www.line-website.com/social-plugins/js/thirdparty/loader.min.js"
      async="async"
      defer="defer"
    ></script>
    <script>
      const navLinks = document.querySelectorAll(".nav-link");
      const sections = document.querySelectorAll("main > div");

      const hideSections = () => {
        sections.forEach((section) => {
          section.style.display = "none";
        });
      };

      const handleNavLinks = (e) => {
        e.preventDefault();

        navLinks.forEach((link) => {
          link.classList.remove("active-link");
        });

        e.target.classList.add("active-link");

        hideSections();

        const index = Array.from(navLinks).indexOf(e.target);
        sections[index].style.display = "block";
      };

      navLinks.forEach((link) => {
        link.addEventListener("click", handleNavLinks);
      });

      navLinks[0].classList.add("active-link");
      sections[0].style.display = "block";
    </script>
  </body>
</html>
